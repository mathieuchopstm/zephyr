# Copyright 2024 NXP
# SPDX-License-Identifier: Apache-2.0

# Common fields for nodes within clock controller tree

include: base.yaml

properties:
  # TODO: this property should be split out to a new binding
  # (e.g., "static-initable-clock-node")
  #
  # this way, we can guarantee at binding level that one does
  # not attempt to static-init a node which doesn't support it
  "zephyr,cms-static-init":
    type: boolean
    description: |
      Clock node is initialized statically during boot.

  "zephyr,cms-static-disable-at-boot":
    type: boolean
    description: |
      During static initialization at boot, disable this device
      instead of enabling it (via a call to clock_management_off()).

      This property is ignored if "zephyr,cms-static-init" is not set.

  "zephyr,reparent-on-disabled":
    type: boolean
    description: |
      If this node is disabled (status = "disabled"), children nodes
      requesting for their parent (=this node) are redirected to
      this node's parent, effectively skipping this node in the
      clock tree hierarchy.

      This can be used on devices for which the HW default configuration
      is never changed to save space, as it evicts a struct clk_hw from
      the final binary (this may also reduce stack usage and will slightly
      speed up calls to get_rate()).

      WARNING: USE THIS PROPERTY ONLY ON NODES WHERE Fout = Fin.
      USING THIS PROPERTY ON A NODE WHICH MODIFIES FREQUENCY WILL BREAK
      CLOCK RATE CALCULATIONS FOR THE DEVICE AND ALL ITS CHILDREN!!!

  "#clock-cells":
    type: int
    required: true
    description: Number of items to expect in a node setpoint specifier
